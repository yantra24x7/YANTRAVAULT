{"version":3,"sources":["./src/app/Components/backup/backup.component.html","./src/app/Components/backup/backup.html","./src/app/Components/backup/backup.component.scss","./src/app/Components/backup/backup.component.ts","./src/app/Components/backup/backup.module.ts","./src/app/Service/app/backup.service.ts"],"names":[],"mappings":"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","file":"Components-backup-backup-module-es2015.js","sourcesContent":["export default \"<section class=\\\"page\\\">\\n  <div *ngIf=\\\"myLoader\\\" class=\\\"spinner\\\">\\n    <img src=\\\"assets/images/spinner.gif\\\">\\n  </div>\\n  <div class=\\\"section_top_padding\\\">\\n    <div class=\\\"container-fluid\\\">\\n      <div class=\\\"page_title_sec\\\">\\n        <h2 class=\\\"sub_title\\\">\\n          <mat-icon class=\\\"v-align-middle display\\\">backup</mat-icon>\\n          <span class=\\\"v-align-middle\\\">Backup</span>\\n        </h2>\\n\\n        <div class=\\\"filter_sec\\\">\\n          <div class=\\\"filter_field\\\">\\n            <div class=\\\"filter_field\\\">\\n              <mat-form-field appearance=\\\"outline\\\">\\n                <mat-select placeholder=\\\"Select Machine\\\" [(ngModel)]=\\\"machine_id\\\"\\n                  (selectionChange)=\\\"getmachine($event.value)\\\" matNativeControl required>\\n                  <mat-option *ngFor=\\\"let machine of machine_response\\\" [value]=\\\"machine.id\\\">\\n                    {{machine.machine_name}}\\n                  </mat-option>\\n                </mat-select>\\n              </mat-form-field>\\n\\n            </div>\\n          </div>\\n          <div class=\\\"form-button\\\">\\n            <button class=\\\"subit\\\" (click)=\\\"openDialog(machine_id)\\\" class=\\\"upload_btn\\\">File Upload</button>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"backup_sec\\\">\\n        <div class=\\\"col\\\">\\n          <!-- <h1>Backup</h1> -->\\n          <mat-card class=\\\"card_sec\\\">\\n            <mat-card-content class=\\\"table-responsive\\\">\\n              <table>\\n                <thead>\\n                  <tr>\\n                    <!-- <th>#</th> -->\\n                    <th>Name</th>\\n                    <th>Actions</th>\\n                  </tr>\\n                </thead>\\n                <tr *ngFor=\\\"let master of backup\\\">\\n                  <!-- <td></td> -->\\n                  <td>{{master}}</td>\\n                  <td>\\n\\n                    <div><a class=\\\"Download\\\" matTooltip=\\\"Download\\\" (click)=\\\"new_download(master,'Backup')\\\"><i class=\\\"fa fa-download\\\"\\n                          aria-hidden=\\\"true\\\"></i></a></div>\\n\\n\\n\\n                  </td>\\n                </tr>\\n              </table>\\n            </mat-card-content>\\n          </mat-card>\\n\\n        \\n\\n\\n        </div>\\n        <div *ngIf=\\\"backup.length==0\\\" class=\\\"no_data_found\\\">\\n          <h2>No data found</h2>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</section>\"","export default \"<div class=\\\"modal_sec\\\">\\r\\n  <mat-toolbar>\\r\\n    <h3>File Upload</h3>\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"onNoClick()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">Ã—</span>\\r\\n    </button>\\r\\n  </mat-toolbar>\\r\\n  <div class=\\\"dialog-form\\\">\\r\\n    <div class=\\\"filter_sec\\\">\\r\\n      <form [formGroup]=\\\"test\\\" (ngSubmit)=\\\"testform(test.value)\\\" class=\\\"form_sec\\\">\\r\\n        <mat-form-field appearance=\\\"outline\\\">\\r\\n          <mat-select placeholder=\\\"Select Machine\\\"   matNativeControl required formControlName=\\\"machine_id\\\">\\r\\n            <mat-option *ngFor=\\\"let machine of machine_response\\\" [value]=\\\"machine.id\\\">\\r\\n                {{machine.machine_name}}\\r\\n            </mat-option>\\r\\n          </mat-select>\\r\\n        </mat-form-field>\\r\\n\\r\\n        <mat-form-field appearance=\\\"outline\\\">\\r\\n          <mat-label>Reason</mat-label>\\r\\n          <input matInput formControlName=\\\"reason\\\" type=\\\"text\\\">\\r\\n        </mat-form-field>\\r\\n\\r\\n        <div class=\\\"form-group custom_file_upload\\\">\\r\\n          <label for=\\\"file\\\">Choose File</label><br /> <input type=\\\"file\\\" id=\\\"file\\\" (change)=\\\"fileUpload1($event)\\\">\\r\\n        </div>\\r\\n        \\r\\n        <div class=\\\"form-button text-right\\\">\\r\\n          <button mat-raised-button [disabled]=\\\"test.invalid\\\" class=\\\"filter_btn btn_orange\\\">\\r\\n            Save</button>\\r\\n          <button mat-raised-button (click)=\\\"onNoClick()\\\" class=\\\"filter_btn btn_default ml-16\\\">Close</button>\\r\\n        </div>\\r\\n      </form>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","export default \".filter_sec form {\\n  display: -webkit-box;\\n  display: flex; }\\n\\n.spinner {\\n  background: #262932;\\n  height: 100vh;\\n  opacity: 0.9;\\n  position: fixed;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  width: auto;\\n  z-index: 999; }\\n\\n.spinner img {\\n  width: 90px;\\n  margin-top: -130px; }\\n\\n.backup_sec {\\n  display: -webkit-box;\\n  display: flex; }\\n\\n.backup_sec .col {\\n    width: calc(100% /1);\\n    padding: 0; }\\n\\n.backup_sec .col h1 {\\n      font-size: 18px;\\n      font-weight: 400;\\n      margin-top: 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2FsdGl1cy9Qcml5YS95YW50cmFfdmF1bHRfZnJvbnRlbmQvc3JjL2FwcC9Db21wb25lbnRzL2JhY2t1cC9iYWNrdXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFSSxvQkFBYTtFQUFiLGFBQWEsRUFBQTs7QUFHakI7RUFDSSxtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLFlBQVk7RUFDWixlQUFlO0VBQ2Ysb0JBQWE7RUFBYixhQUFhO0VBQ2IseUJBQW1CO1VBQW5CLG1CQUFtQjtFQUNuQix3QkFBdUI7VUFBdkIsdUJBQXVCO0VBQ3ZCLE1BQU07RUFDTixPQUFPO0VBQ1AsUUFBUTtFQUNSLFdBQVc7RUFDWCxZQUFZLEVBQUE7O0FBR2Q7RUFDRSxXQUFXO0VBQ1gsa0JBQWtCLEVBQUE7O0FBR3BCO0VBQ0Usb0JBQWE7RUFBYixhQUFhLEVBQUE7O0FBRGY7SUFHTSxvQkFBb0I7SUFDcEIsVUFBVSxFQUFBOztBQUpoQjtNQU1VLGVBQWU7TUFDZixnQkFBZ0I7TUFDaEIsYUFBYSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvQ29tcG9uZW50cy9iYWNrdXAvYmFja3VwLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZpbHRlcl9zZWMge1xyXG4gICAgZm9ybXtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbn1cclxufVxyXG4uc3Bpbm5lciB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjMjYyOTMyO1xyXG4gICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgIG9wYWNpdHk6IDAuOTtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICB3aWR0aDogYXV0bztcclxuICAgIHotaW5kZXg6IDk5OTtcclxuICB9XHJcbiAgXHJcbiAgLnNwaW5uZXIgaW1nIHtcclxuICAgIHdpZHRoOiA5MHB4O1xyXG4gICAgbWFyZ2luLXRvcDogLTEzMHB4O1xyXG4gIH1cclxuXHJcbiAgLmJhY2t1cF9zZWMge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIC5jb2x7XHJcbiAgICAgICAgd2lkdGg6IGNhbGMoMTAwJSAvMSk7XHJcbiAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgICBoMXtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogNDAwO1xyXG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICB9Il19 */\"","import { Component, OnInit,Inject } from '@angular/core';\nimport { FormControl, FormGroup, Validators,FormBuilder } from '@angular/forms';\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA} from '@angular/material/dialog';\nimport { NavbarService} from '../../Nav/navbar.service';\nimport { BackupService} from '../../Service/app/backup.service';\nimport { MatTableDataSource } from '@angular/material';\nimport Swal from 'sweetalert2';\nimport { untilDestroyed } from 'ngx-take-until-destroy';\nimport { saveAs } from 'file-saver';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n\n@Component({\n  selector: 'app-backup',\n  templateUrl: './backup.component.html',\n  styleUrls: ['./backup.component.scss']\n})\nexport class BackupComponent implements OnInit {\n  test:FormGroup;\n  machine_response: any;\n  tenant: any;\n  reason_response: any;\n  backup: any;\n  machine_id:any;\n  myLoader = false;\n  user:any;\n  \n  constructor(public dialog: MatDialog,private fb :FormBuilder,private nav:NavbarService,private service :BackupService) { \n    this.tenant=localStorage.getItem('tenant_id')\n    this.user = localStorage.getItem('user_id')\n\n    this.nav.show();\n  }\n  displayedColumns: string[] = ['position', 'name', 'weight', 'symbol','action'];\n  dataSource = new MatTableDataSource();\n  openDialog(machine): void {\n    const dialogRef = this.dialog.open(Backup, {\n      width: '250px',\n      data: { edit_shift: machine}\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      this.ngOnInit();\n    });\n  }\n  ngOnInit() {\n  \n    this.service.machine( this.tenant).pipe(untilDestroyed(this)).subscribe(res => {\n      this.machine_response=res;\n      // this.service.filelist( this.machine_response.id).subscribe(res =>{\n        this.machine_id = this.machine_response[0].id;\n        this.getmachine(this.machine_response[0].id)\n      });\n   \n  }\n  \n  getmachine(id) {\n    this.myLoader = true;\n     this.service.display_reason(id).pipe(untilDestroyed(this)).subscribe(res =>{\n      this.myLoader = false;\n\n      this.backup=res.backup_location;\n      // this.dataSource=new MatTableDataSource(this.backup)\n     \n      if (res['status'] != null) {\n        Swal.fire(res['status'])\n      }\n    })  \n  }\n  new_download(name,position){\n\n    let scotch ={\n      \"id\": this.machine_id,\n      \"file_name\":name,\n      \"user_id\": this.user,\n      \"position\": position\n    }\n\n    this.service.downloaded(scotch).pipe(untilDestroyed(this)).subscribe(res =>{\n      var file = new Blob([res], {\n        type: 'text/json;charset=utf-8'\n      });\n   \n      var data = \"text/json;charset=utf-8,\" + encodeURIComponent(data);\n     saveAs(file, scotch.file_name );\n         \n       \n       })\n     }\n   \n\n\n \n  ngOnDestroy(){\n\n  }\n}\n@Component({\n  selector: 'backup-page',\n  templateUrl: 'backup.html',\n})\nexport class Backup {\n  test:FormGroup;\n  machine_response:any;\n  baclog:any;\n  tenant: any;\n  user_id:any;\n  add_val:any;\n  file2:any;\n  machine_id:any;\n  value:any;\n  status:any;\n  constructor(private http: HttpClient,public dialogRef: MatDialogRef<Backup>,@Inject(MAT_DIALOG_DATA) public data: string,private fb:FormBuilder,private service :BackupService) {\n     this.tenant = localStorage.getItem('tenant_id')  \n     this.user_id = localStorage.getItem('user_id')\n     this.value = data;\n  \n  }\n\n  fileUpload1(event){\n    this.file2 = event.target.files[0];\n   \n    \n}\n\n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n  ngOnInit() {\n\n    this.test=this.fb.group ({\n      machine_id:[this.value.edit_shift],\n      reason:[\"\"],\n\n    })\n\n    this.service.machine_lock( this.tenant).pipe(untilDestroyed(this)).subscribe(res => {\n      this.machine_response=res;\n      \n    });\n  }\n  testform(val)\n  { \n    let headers = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json',\n        'Authorization': \"Bearer \" + localStorage.getItem(\"token\")\n      })\n    }  \n    this.add_val = val ;\n    this.add_val = this.value.edit_shift;\n\n    var fd = new FormData();\n    fd.append('machine_id', this.test.value.machine_id);\n    fd.append('reason', this.test.value.reason);\n    fd.append('user_id',  this.user_id);\n    fd.append('file', this.file2);\n   \n      this.http.post(\"http://yantra.local:40010/api/v1/backup_upload\",fd, { headers: { Authorization: \"Bearer \" + localStorage.getItem(\"token\") } }).subscribe(res =>{\n      if (res['status'] != null) {\n        Swal.fire(res['status'])\n      }\n      this.dialogRef.close();\n    \n  })\n}\n\n  \n   ngOnDestroy(){\n\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Routes, RouterModule } from '@angular/router';\nimport { BackupComponent,Backup } from './backup.component';\nimport { SharedModule} from '../shared/shared.module';\n//import { BackupService} from '../../Service/app/backup.service';\nconst routes: Routes = [{ path: '', component: BackupComponent }];\n\n\n@NgModule({\n  declarations: [BackupComponent,Backup],\n  imports: [RouterModule.forChild(routes),\n  CommonModule,SharedModule\n    \n  ],\n  entryComponents:[Backup],\n//  providers:[BackupService]\n\n})\nexport class BackupModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment} from '../../../environments/environment';\nimport { TokenService } from '../core/authentication/token.service';\n@Injectable({\n  providedIn: 'root'\n})\nexport class BackupService {\n\n  constructor(private http:HttpClient) { }\n\n  machine(tenantId):Observable<any>{\n    return this.http.get('machines?tenant_id='+tenantId)\n  }\n  display_reason(id):Observable<any>{\n    return this.http.get('backup_file_list?id='+id)\n  }\n\n  machine_lock(tenantId):Observable<any>{\n    return this.http.get('machines?tenant_id='+tenantId)\n  }\n  backup_folder(value):Observable<any>{\n    return this.http.post('backup_upload',value)\n  }\n  downloaded(slave):Observable<Blob>{\n    return this.http.post('file_download',slave,{responseType: 'blob'})\n  }\n}\n"],"sourceRoot":"webpack:///"}